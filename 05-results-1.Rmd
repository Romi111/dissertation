---
output: html_document
editor_options: 
  chunk_output_type: console
---
## Results for Research Question #1

```{r, setup-1, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      message = FALSE, 
                      warning = FALSE, 
                      collapse = TRUE,
                      error = TRUE,
                      fig.width = 6,
                      fig.asp = .618,
                      out.width = "80%", 
                      fig.align = "center", 
                      results = "hold",
                      knitr.kable.na = '') 

options(knitr.kable.NA = '')
```

### Frequency of work with data

From the coding with the STEM-PQA, work with data appears common. Out of the 248 segments, 236 were coded for work with data; for the other, not-coded segments, issues with the video-recordings were the primary source of the missing data; in these cases, youth may have still replied to signals, but it was not possible to code for work with data associated with these responses. 

```{r}
data_frame(`Aspect of Work With Data` = c("Asking Questions", "Making Observations", "Generating Data", "Data Modeling", "Communicating Findings"),
           Proportion = c(.389, .258, .453, .288, .470),
           N = c(92, 61, 107, 68, 111)) %>% 
    knitr::kable(booktabs = TRUE, linesep = "", caption = "Proportion of signals for which each of the aspects of work with data was present")
```

The composite measure, created on the basis of summing the codes for the five aspects of work with data, has a minimum value of 0 and a maximum of 5. Its mean is 1.86 (*SD* = 1.61). This indicates that, on average, youth were engaged in 1.86 aspects of the work with data during the program.

We can also examine the breakdown by program. 

```{r}
data_frame(program_name = c("Island Explorers", "The Ecosphere", "Zoology Partners", "Marine Investigators", "Comunidad de Aprendizaje", "Jefferson House", "Uptown Architecture", "Building Mania", "Adventures in Mathematics"),
           asking = c(5, 15, 6, 11, 18, 4, 9, 8, 14),
           observing = c(6, 10, 4, 8, 10, 2, 5, 5, 7),
           generating = c(7, 12, 3, 6, 22, 13, 17, 9, 13),
           modeling = c(4, 7, 4, 9, 15, 11, 4, 8, 11),
           communicating = c(6, 12, 5, 13, 18, 18, 7, 12, 18),
           total_segments = c(16, 24, 24, 24, 55, 24, 24, 24, 24)) %>% 
      knitr::kable(booktabs = TRUE, linesep = "", caption = "Proportion of signals for which each of the aspects of work with data was present by program")
```

### Nature of work with data

```{r, eval = F}
library(googlesheets)
library(dplyr)

d <- gs_title("New Overall Coding Sheet")
d <- gs_read(d, ws = 1)

d %>% 
  select(program_name, Asking, Observe, Generate, Model, Communicate) %>% 
  group_by(program_name) %>%
  summarize_all(funs(sum), na.rm = T)

d %>% 
  dplyr::select(Asking:com_jr) %>% 
  summarize_all(sum, na.rm = T) %>% 
  gather(key, val)

# ask
36/90 # .4
# observe
49/57 # .85
# gen
48/102 # .47
# mod
49/68 # .72
# com
49/103 # .47

# d %>% 
#   filter(ask_jr == 1)
# 
# d %>% 
#   dplyr::select(Asking, Observe, Generate, Model, Communicate) %>% 
#   summarize_all(sum, na.rm = T)
# 
# d %>% 
#   group_by(program_name) %>% 
#   dplyr::select(Asking, Observe, Generate, Model, Communicate) %>% 
#   summarize_all(sum, na.rm = T)

# d %>% 
#   filter(!is.na(program_ID))

d %>% 
  dplyr::select(dplyr::contains("jr")) %>% 
  dplyr::summarize(sum, na.rm = T)

d %>% 
  dplyr::select(dplyr::contains("jr")) %>%
  dplyr::summarize_all(sum, na.rm = T) / 239

# d %>% 
#   group_by(program_name) %>% 
#   dplyr::select(dplyr::contains("jr")) %>%
#   dplyr::summarize_all(sum, na.rm = T)
# g1 <- gs_title("USE THIS! New Coding Frame - KMS")
# g2 <- gs_title("USE THIS! New Coding Frame - HM")
# g3 <- gs_title("USE THIS! New Coding Frame - KS")
#
# d1 <- gs_read(g1, ws = 1)
# d2 <- gs_read(g2, ws = 1)
# d3 <- gs_read(g3, ws = 1)

# d1 <- readr::read_csv("KMS - Codes.csv")
# d2 <- readr::read_csv("HM - Codes.csv")
# d3 <- readr::read_csv("KS - Codes.csv")
# 
# d1 <- rename(d1, KMS_codes = `Qualitative Coding`)
# d2 <- select(d2, program_name, response_date, signal_number, HM_codes = `Qualitative Coding`)
# d3 <- select(d3, program_name, response_date, signal_number, KS_codes = `Qualitative Coding`)
# 
# dc <- d1 %>%
#   left_join(d2, by = c("program_name", "response_date", "signal_number")) %>%
#   left_join(d3, by = c("program_name", "response_date", "signal_number"))
# 
# # d1 <- dplyr::select(d1, program_name, response_date, signal_number, KMS_qual = `Qualitative Coding`)
# # d2 <- dplyr::select(d2, program_name, response_date, signal_number, HM_qual = `Qualitative Coding`)
# # d3 <- rename(d3, KLS_qual = `Qualitative Coding`)
# #
# # d3 <- d3 %>%
# #   left_join(d2) %>%
# #   left_join(d1)
# #
# # d_proc <- d3 %>%
# #   select(everything(), contains("qual"), -`Josh notes`, -Initials)
# #
# # # d1i <- dplyr::pull(d1, `Qualitative Coding`)[!d1_na]
# # # d2i <- dplyr::pull(d2, `Qualitative Coding`)[!d2_na]
# # # d3i <- dplyr::pull(d3, `Qualitative Coding`)[!d3_na]
# 
# readr::write_csv(select(dc, -Initials, -`Josh notes`), "qual-coding.csv")
dc <- readr::read_csv("qual-coding.csv")

library(poLCA)


```

Each of the segments of video was coded. Youth engage in work with data in ways that on occasion diverged (in ways productive and not productive in terms of student work with data) from what would be expected on the basis of the instructional support. This coding resulted in around three to four sentence notes associated with each segment from each of two raters. Then, I reviewed these notes with the aim to identify themes based on enriching and better understanding the aspects of work with data.

In a video associated with a mathematics-focused activity in the Comunidad de Aprendizaje program, a youth activity leader is discussing with youth opportunities for them to market products that they developed to sell in their communities and highlighting the expense of creating the product, its sale price, and its potential process. In this example, observing data is coded, but this aspect of work with data does not appear to be present. Considering the STEM-PQA code on which the code for making observations is based, this difference is possibly due to a distinction in what both codes are focused on. The STEM-PQA code is for *classifying or abstracting*, and its operationalization emphasizes staff supporting youth in linking concrete examples to principles, categories, or formulas. The conceptual definition of *making observations*, though, emphasizes watching and noticing what is happening with respect to the phenomena being investigated. In this case, the application of the STEM-PQA code was sensible, as the youth activity leader was connecting the products youth created to mathematical ideas (formulas) for how much they could expect to earn from the sale of their products; in terms of work with data, however, youth were not observing or noticing phenomena. 

Some of the guiding questions for the qualitative coding were as follows:

* When asking questions or defining problems is coded, what, if any are the questions or problems? Who is asking the question (i.e teacher or student)
* When making observations is coded, what are youth doing?
* When generating data is coded, how, if they are, are youth collecting or recording data?
* When analyzing or modeling data is coded, what analysis are they doing, or what models are they using? Are they talking about variability or uncertainty? If so, how?
* When interpreting and communicating findings is coded, what are youth interpreting or how are they communicating?

#### Asking questions or identifying problems

Asking questions occurred in 92 of the segments. In the 92 segments that were coded with asking questions, the qualitative coders identified 36 segments, that were focused on asking questions in ways that clearly aligned with the coding frame. 

Qualitative coding showed that this aspect of work with data was highly variable. When the qualitative coding revealed this code to be present, it was often when youth were trying to better understand the phenomenon or problem they were investigating. It was not always always focused on predicting, conjecturing, or hypothesizing, and when it was not present, it was applied to instances in which the youth were asking generic questions (i.e., about how they do an assignment) or when the instructor was asking youth questions (i.e., math-related questions). 

#### Making observations

Making observations occurred in 57 of the segments, 49 which were clearly aligned with the coding frame. Many of the times, this code was in conjunction with observing phenomenon in the field, or, in the case of engineering-focused programs, noticing what was going on with a particular design. When qualitative coders determined this was not present, it was usually due to the observations being of the instructor.

#### Generating data

Generating data occurred in 102 segments, 48 which were aligned with the coding frame. When present based on qualtitative codes, youth were writing down observations, recording information from experiments, or recording the results of a trial (in engineering contexts). When not present, this was often youth were writing down what the youth activity leader was saying, or was focused on collecting specimens, but not inscribing them as data.

#### Data modeling

Data modeling occurred in 68 segments, 49 which were aligned with the coding frame. When present, youth used statistical models or real-world, designed models to make predictions about phenomena. When not present, the instructor was using a model, or the model was not a model of data in any sense (i.e., was not based on data generated from observations or through other methods).

#### Interpreting and communicating findings

Codes for interperting and communicating were present in 103 segments, 49 which were aligned with the coding frame. When present based on the qualitative codes, youth were sharing what they found from an experiment or investigation. This also involved instances in which youth were debating over the results of an investigation with other youth and youth activity leaders. When not present, which was common, youth were communicating in other ways, such as trying to find out the answer to a question.

### Summary of Findings for Research Question #1

This suggests that differences in how work with data was conceptualized and operationalized may lead, in some cases, to codes that do not reflect work with data accurately, and can lead to some findings that seem unexpected given what we know about the potential for work with data to be engaging to youth.
